import{_ as a,o as s,c as e,O as l}from"./chunks/framework.9482e208.js";const g=JSON.parse('{"title":"centos7安装redis","description":"","frontmatter":{},"headers":[],"relativePath":"installredis.md","filePath":"installredis.md"}'),t={name:"installredis.md"},n=l(`<h1 id="centos7安装redis" tabindex="-1">centos7安装redis <a class="header-anchor" href="#centos7安装redis" aria-label="Permalink to &quot;centos7安装redis&quot;">​</a></h1><h2 id="方法一-源文件安装-推荐安装" tabindex="-1">方法一：源文件安装（推荐安装） <a class="header-anchor" href="#方法一-源文件安装-推荐安装" aria-label="Permalink to &quot;方法一：源文件安装（推荐安装）&quot;">​</a></h2><h3 id="在centos和red-hat系统中-首先添加epel仓库-然后更新yum源" tabindex="-1">在CentOS和Red Hat系统中，首先添加EPEL仓库，然后更新yum源： <a class="header-anchor" href="#在centos和red-hat系统中-首先添加epel仓库-然后更新yum源" aria-label="Permalink to &quot;在CentOS和Red Hat系统中，首先添加EPEL仓库，然后更新yum源：&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">sudo yum install epel-release</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo yum update</span></span></code></pre></div><p>然后安装Redis数据库：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">sudo yum -y install redis</span></span></code></pre></div><p>安装好后启动Redis服务即可：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">sudo systemctl start redis</span></span></code></pre></div><p>这里同样可以使用redis-cli进入Redis命令行模式操作。</p><p>另外，为了可以使Redis能被远程连接，需要修改配置文件，路径为/etc/redis.conf</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vi /etc/redis.conf</span></span></code></pre></div><p>需要修改的地方：</p><p>首先，注释这一行:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">#bind 127.0.0.1</span></span></code></pre></div><p>另外，推荐给Redis设置密码，取消注释这一行：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">#requirepass foobared</span></span></code></pre></div><p>foobared即当前密码，可以自行修改为</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">requirepass 密码</span></span></code></pre></div><p>然后重启Redis服务，使用的命令如下：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">sudo systemctl restart redis</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>systemctl start redis.service #启动redis服务器</p><p>systemctl stop redis.service #停止redis服务器</p><p>systemctl restart redis.service #重新启动redis服务器</p><p>systemctl status redis.service #获取redis服务器的运行状态</p><p>systemctl enable redis.service #开机启动redis服务器</p><p>systemctl disable redis.service #开机禁用redis服务器</p></div><h2 id="方法二-压缩包安装" tabindex="-1">方法二；压缩包安装 <a class="header-anchor" href="#方法二-压缩包安装" aria-label="Permalink to &quot;方法二；压缩包安装&quot;">​</a></h2><h3 id="一、安装" tabindex="-1">一、安装 <a class="header-anchor" href="#一、安装" aria-label="Permalink to &quot;一、安装&quot;">​</a></h3><h4 id="_1、在官网下载tar-gz的安装包-或者通过wget的方式下载" tabindex="-1">1、在官网下载tar.gz的安装包，或者通过wget的方式下载 <a class="header-anchor" href="#_1、在官网下载tar-gz的安装包-或者通过wget的方式下载" aria-label="Permalink to &quot;1、在官网下载tar.gz的安装包，或者通过wget的方式下载&quot;">​</a></h4><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">wget http://download.redis.io/releases/redis-4.0.1.tar.gz</span></span></code></pre></div><h4 id="_2、解压" tabindex="-1">2、解压 <a class="header-anchor" href="#_2、解压" aria-label="Permalink to &quot;2、解压&quot;">​</a></h4><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">tar -zxvf redis-4.0.1.tar.gz</span></span></code></pre></div><h4 id="_3、编译" tabindex="-1">3、编译 <a class="header-anchor" href="#_3、编译" aria-label="Permalink to &quot;3、编译&quot;">​</a></h4><p>通过make来编译，make是自动编译，会根据Makefile中描述的内容来进行编译。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">cd redis-4.0</span></span>
<span class="line"><span style="color:#A6ACCD;">make</span></span></code></pre></div><p>可以看到在src目录下生成了几个新的文件。</p><h4 id="_4、安装" tabindex="-1">4、安装 <a class="header-anchor" href="#_4、安装" aria-label="Permalink to &quot;4、安装&quot;">​</a></h4><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">make install</span></span></code></pre></div><p>实际上，就是将这个几个文件加到/usr/local/bin目录下去。这个目录在Path下面的话，就可以直接执行这几个命令了。</p><p>可以看到，这几个文件就已经被加载到bin目录下了</p><h4 id="_5、启动服务器-来看看安装是否成功。" tabindex="-1">5、启动服务器，来看看安装是否成功。 <a class="header-anchor" href="#_5、启动服务器-来看看安装是否成功。" aria-label="Permalink to &quot;5、启动服务器，来看看安装是否成功。&quot;">​</a></h4><p>使用redis-server命令。</p><p>再启动一个linux客户端，redis-cli打开客户端</p><h4 id="_6、关闭服务器" tabindex="-1">6、关闭服务器 <a class="header-anchor" href="#_6、关闭服务器" aria-label="Permalink to &quot;6、关闭服务器&quot;">​</a></h4><p>启动一个linux客户端，通过server-cli shutdown来关闭服务器。</p><h3 id="二、配置" tabindex="-1">二、配置 <a class="header-anchor" href="#二、配置" aria-label="Permalink to &quot;二、配置&quot;">​</a></h3><h4 id="_1、设置redis服务器后台启动" tabindex="-1">1、设置redis服务器后台启动 <a class="header-anchor" href="#_1、设置redis服务器后台启动" aria-label="Permalink to &quot;1、设置redis服务器后台启动&quot;">​</a></h4><p>前面在启动redis服务器后，都是在前台启动的，需要重新启动一个客户端来进行登陆操作。这样非常不方便，</p><p>所以，我们需要设置后台启动。</p><p>daemonize no</p><p>修改为：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">daemonize yes</span></span></code></pre></div><p><strong>卸载redis</strong></p><p>卸载redis服务，只需把/usr/local/bin/目录下的redis删除即可</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">rm -rf /usr/local/bin/redis*</span></span></code></pre></div><p>甚至可以把解压包也删除掉</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">rm -rf /root/redis-stable</span></span></code></pre></div>`,52),i=[n];function p(o,r,c,d,h,u){return s(),e("div",null,i)}const b=a(t,[["render",p]]);export{g as __pageData,b as default};
