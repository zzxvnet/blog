import{_ as a,o as n,c as s,O as e}from"./chunks/framework.9482e208.js";const x=JSON.parse('{"title":"CentOS 7 安装 Nginx","description":"","frontmatter":{},"headers":[],"relativePath":"installnginx.md","filePath":"installnginx.md"}'),l={name:"installnginx.md"},i=e(`<h1 id="centos-7-安装-nginx" tabindex="-1">CentOS 7 安装 Nginx <a class="header-anchor" href="#centos-7-安装-nginx" aria-label="Permalink to &quot;CentOS 7 安装 Nginx&quot;">​</a></h1><h1 id="linux-的两种安装方式" tabindex="-1">Linux 的两种安装方式 <a class="header-anchor" href="#linux-的两种安装方式" aria-label="Permalink to &quot;Linux 的两种安装方式&quot;">​</a></h1><p>首先，介绍一下 Linux 的安装方式，可以是 yum 安装，也可以是源码包安装。</p><p>yum 安装：简单方便，不易出错。 源码包安装：有点繁琐，但是服务性能好。</p><h2 id="yum-安装" tabindex="-1">yum 安装 <a class="header-anchor" href="#yum-安装" aria-label="Permalink to &quot;yum 安装&quot;">​</a></h2><ol><li>安装 Nginx</li></ol><p>yum 安装 nginx 非常简单，就输入一条命令即可。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">sudo yum -y install nginx</span></span></code></pre></div><p>卸载 nginx</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">sudo yum remove nginx</span></span></code></pre></div><p>使用 yum 进行 Nginx 安装时，Nginx 配置文件在 /etc/nginx 目录下。</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>$ sudo systemctl enable nginx # 设置开机启动</p><p>$ sudo service nginx start # 启动 nginx 服务</p><p>$ sudo service nginx stop # 停止 nginx 服务</p><p>$ sudo service nginx restart # 重启 nginx 服务</p><p>$ sudo service nginx reload # 重新加载配置，一般是在修改过 nginx 配置文件时使用。</p></div><h3 id="源码包安装" tabindex="-1">源码包安装 <a class="header-anchor" href="#源码包安装" aria-label="Permalink to &quot;源码包安装&quot;">​</a></h3><p>Nginx 源码包安装方式步骤比较繁琐，并且需要提前安装一些 Nginx 依赖库。</p><h3 id="依赖库安装" tabindex="-1">依赖库安装 <a class="header-anchor" href="#依赖库安装" aria-label="Permalink to &quot;依赖库安装&quot;">​</a></h3><h4 id="_1-安装-gcc-环境" tabindex="-1">1. 安装 gcc 环境 <a class="header-anchor" href="#_1-安装-gcc-环境" aria-label="Permalink to &quot;1. 安装 gcc 环境&quot;">​</a></h4><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">sudo yum -y install gcc gcc-c++ # nginx 编译时依赖 gcc 环境</span></span></code></pre></div><h4 id="_2-安装-pcre" tabindex="-1">2. 安装 pcre <a class="header-anchor" href="#_2-安装-pcre" aria-label="Permalink to &quot;2. 安装 pcre&quot;">​</a></h4><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">sudo yum -y install pcre pcre-devel # 让 nginx 支持重写功能</span></span></code></pre></div><h4 id="_3-安装-zlib" tabindex="-1">3. 安装 zlib <a class="header-anchor" href="#_3-安装-zlib" aria-label="Permalink to &quot;3. 安装 zlib&quot;">​</a></h4><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;"># zlib 库提供了很多压缩和解压缩的方式，nginx 使用 zlib 对 http 包内容进行 gzip 压缩</span></span>
<span class="line"><span style="color:#A6ACCD;"> sudo yum -y install zlib zlib-devel</span></span></code></pre></div><ol start="4"><li>安装 openssl</li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;"># 安全套接字层密码库，用于通信加密</span></span>
<span class="line"><span style="color:#A6ACCD;"> sudo yum -y install openssl openssl-devel</span></span></code></pre></div><p>以上安装完成后，进行 nginx 安装。</p><h2 id="nginx-源码包安装" tabindex="-1">nginx 源码包安装 <a class="header-anchor" href="#nginx-源码包安装" aria-label="Permalink to &quot;nginx 源码包安装&quot;">​</a></h2><p>将准备好的 nginx-1.11.5.tar.gz 包，拷贝至 /usr/local/nginx 目录下（一般习惯在此目录下进行安装）进行解压缩。</p><p>源码包下载地址：<a href="https://nginx.org/en/download.html" target="_blank" rel="noreferrer">https://nginx.org/en/download.html</a></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">sudo tar -zxvf  nginx-1.11.5.tar.gz # 解压缩</span></span></code></pre></div><p>在完成解压缩后，进入 nginx-1.11.5 目录进行源码编译安装。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">cd nginx-1.11.5</span></span>
<span class="line"><span style="color:#A6ACCD;">./configure --prefix=/usr/local/nginx # 检查平台安装环境</span></span>
<span class="line"><span style="color:#A6ACCD;">  # --prefix=/usr/local/nginx  是 nginx 编译安装的目录（推荐），安装完后会在此目录下生成相关文件</span></span></code></pre></div><p>如果前面的依赖库都安装成功后，执行 ./configure --prefix=/usr/local/nginx 命令会显示一些环境信息。</p><p>如果出现错误，一般是依赖库没有安装完成，可按照错误提示信息进行所缺的依赖库安装。</p><h4 id="进行源码编译并安装-nginx" tabindex="-1">进行源码编译并安装 nginx <a class="header-anchor" href="#进行源码编译并安装-nginx" aria-label="Permalink to &quot;进行源码编译并安装 nginx&quot;">​</a></h4><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">make # 编译</span></span>
<span class="line"><span style="color:#A6ACCD;">make install # 安装</span></span></code></pre></div><p>源码包安装与 yum 安装的 nginx 服务操作命令也不同。</p><p>启动服务</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">/usr/local/nginx/sbin/nginx</span></span></code></pre></div><p>重新加载服务</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">/usr/local/nginx/sbin/nginx -s reload</span></span></code></pre></div><p>停止服务</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">/usr/local/nginx/sbin/nginx -s stop</span></span></code></pre></div><p>查看 nginx 服务进程</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">ps -ef | grep nginx # 查看服务进程</span></span></code></pre></div>`,43),t=[i];function p(o,c,r,d,g,u){return n(),s("div",null,t)}const m=a(l,[["render",p]]);export{x as __pageData,m as default};
